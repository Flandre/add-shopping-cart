<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    html, body {
      height: 100%;
    }

    .Mallbar {
      width: 40px;
      height: 140px;
      background: #000;
      position: fixed;
      right: 0;
      top: 30%;
    }

    .test {
      width: 100px;
      height: 100px;
      background: #f00;
      position: fixed;
      top: 20px;
    }
  </style>
</head>
<body>
<div class="test"></div>

<button id="btn">加入购物车</button>

<div class="Mallbar" id="mallbar"></div>

<script src="jquery.min.js"></script>
<script>
  $('#btn').on('click', function () {
    var btnTop = $('#btn').offset().top,
      btnLeft = $('#btn').offset().left,
      mallbarTop = $('#mallbar').offset().top,
      mallbarLeft = $('#mallbar').offset().left;

    var timeout = 2000;

    var frame = 100;

    runAnimation($('.test'), btnTop, btnLeft, (mallbarLeft - btnLeft) / frame, mallbarLeft, timeout/frame);

    //console.log($('#btn').offset().top + ',' + $('#mallbar').offset().top)
  });

  function runAnimation(goods, top, left, leftStep, maxRight, timeout) {
    //alert(goods+','+top+','+right+','+rightStep+','+maxRight)
    if (left < maxRight) {
      //alert(1);
      left += leftStep;
      setTimeout(function () {
        goods.css({
          'top': top + 'px',
          'left': left + 'px'
        });
        runAnimation(goods, top, left, leftStep, maxRight, timeout);
      }, timeout);
    }
  }
</script>
</body>
</html>